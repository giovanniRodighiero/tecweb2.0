<?xml version="1.0" encoding="UTF-8"?>
xsl:stylesheet(version="1.0" xmlns:xsl="http://www.w3.org/1999/XSL/Transform" )
  xsl:output(version='1.0' encoding='UTF-8' indent='yes' omit-xml-declaration="yes")/
  xsl:template(match="//db")
      head
        meta(http-equiv="Content-Type" content="text/html; charset=utf-8")
        title titolo
        link(rel="stylesheet" type="text/css" href="../../../public_html/styles/main.min.css" media="screen")/
      body
        div(id="homepage")
          div(id="header")
            h1 Giovanni Rodighiero Resume
          div(id="nav")
            ul
              li(class="active") Edit Anagraphic
              li
                a(href="#") Edit Study Titles
              li
                a(href="#") Edit Working Experience
          div(id="content")
            xsl:apply-templates(select="anagraphic")/
          div(id="footer")
            a(href="#") Log out
            p(class="copyright") Copyright (c) 2016 Copyright Holder All Rights Reserved.

  xsl:template(match="anagraphic")
    div(id="modal-div")
      form(action="../../actions/destroy.cgi" method="post")
        fieldset(id="modal")
          button(type="submit" id="modal-submit") Confirm

    div
      form(action="new.cgi" method="post")
        fieldset
          input(type="hidden" name="collection" value="anagraphic")
          button(type="submit") New Anagraphic Info
    ul
      xsl:for-each(select="item")
        li
          div
            span(class="key") Field Name
            p(class="value")
              xsl:value-of(select="fieldName")/
          div
            span(class="key") Field Content
            p(class="value")
              xsl:value-of(select="content")/

          form(action="edit.cgi" method="post")
            fieldset.
              <input type="hidden" name="collection" value="anagraphic"/>
              <input type="hidden" name="id" >
                <xsl:attribute name="value">
                  <xsl:value-of select="@id" />
                </xsl:attribute>
              </input>
              <input type="hidden" name="fieldName" >
                <xsl:attribute name="value">
                  <xsl:value-of select="fieldName" />
                </xsl:attribute>
              </input>
              <input type="hidden" name="content" >
                <xsl:attribute name="value">
                  <xsl:value-of select="content" />
                </xsl:attribute>
              </input>
              <button type="submit"> Edit </button>
          form(action="delete.cgi" method="post")
            <xsl:attribute name="onclick">return renderModal("<xsl:value-of select="@id" />", "anagraphic");
            </xsl:attribute>
            fieldset.
              <input type="hidden" name="collection" value="anagraphic"/>
              <input type="hidden" name="id" >
                <xsl:attribute name="value">
                  <xsl:value-of select="@id" />
                </xsl:attribute>
              </input>
              <input type="hidden" name="fieldName" >
                <xsl:attribute name="value">
                  <xsl:value-of select="fieldName" />
                </xsl:attribute>
              </input>
              <input type="hidden" name="content" >
                <xsl:attribute name="value">
                  <xsl:value-of select="content" />
                </xsl:attribute>
              </input>
              <button type="submit"> Delete </button>
