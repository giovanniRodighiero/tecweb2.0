<?xml version="1.0" encoding="UTF-8"?>
xsl:stylesheet(version="1.0" xmlns:xsl="http://www.w3.org/1999/XSL/Transform")
  xsl:output(version='1.0' encoding='UTF-8' indent='yes' omit-xml-declaration="yes")/
  xsl:template(match="//db")
    head
      title Contacts and Socials Admin - Giovanni Rodighiero Resume
      meta(http-equiv="Content-Type" content="text/html; charset=utf-8")/
      meta(name="viewport" content="width=device-width, initial-scale=1")/
      meta(name="title" content="Giovanni Rodighiero Resume - Contacts and Socials")/
      meta(name="description" content="Contacts and Social Networks profiles of Giovanni Rodighiero.")/
      meta(name="keywords" content="Contacts, Socials, Social Networks, Email, Giovanni, Rodighiero, Resume, Curriculum Vitae")/
      meta(name="author" content="Giovanni Rodighiero")/
      meta(name="language" content="english en")/
      link(rel="stylesheet" type="text/css" href="../../../styles/main.min.css" media="screen")/
      link(rel="stylesheet" type="text/css" href="../../../styles/print.min.css" media="print")/
    body
      div(id="working")
        div(id="header")
          h1
            span(xml:lang="it") Giovanni Rodighiero,
            span(class="subtitle") Personal Resume
        a(href="#content" class="skipMenu") Jump to the page content
        div(id="path")
          p
            | Admin Panel
            a(href="home.cgi") Home
            span(class="active") / Contacts and Socials
        div(id="nav")
          h2 Resume Pages:
          ul
            li
              a(href="home.cgi" accesskey="o")
                span.accesskey O
                |verview
            li
               a(href="anagraphic.cgi" accesskey="a")
                 |Edit
                 = ' '
                 span.accesskey A
                 |nagraphical Informations
            li
              a(href="studyTitles.cgi" accesskey="s")
                |Edit
                = ' '
                span.accesskey S
                |tudy Titles and Education
            li
              a(href="working.cgi" accesskey="w")
                |Edit
                =' '
                span.accesskey W
                |orking Experience
            li
              a(href="skills.cgi" accesskey="k")
                |Edit S
                span.accesskey k
                |ills and Languages
            li
              span(class="active")
                |Edit
                = ' '
                span.accesskey C
                |ontacts and Socials
        div(id="content")
          div(class="box-full")
            xsl:apply-templates(select="contacts")/
        a.back-top(href="#content") Back to top
        div(id="footer")
          a(href="login.cgi" class="admin") Admin area
          p(class="copyright") Copyright (c) 2016 Copyright Holder All Rights Reserved.
        script(type="text/javascript" src="../../../javascript/main.js" ) //

  xsl:template(match="contacts")
    div(id="modal-div")
      h2 Proceed with the deletion ?
      form(action="../../actions/destroy.cgi" method="post" class="inline")
        fieldset(id="modal" class="inline")
          button(type="submit" id="modal-submit") Confirm
      button(class="inline")
        <xsl:attribute name="onclick">return cancelModal("<xsl:value-of select="@id" />", "contacts");
        </xsl:attribute>
        | Cancel
    div
      h2(class="page-title") Contacts and Socials
      form(class="form" action="new.cgi" method="post")
        fieldset
          input(type="hidden" name="collection" value="contacts")
          button(type="submit") New Contacts
    div
      ul
        xsl:for-each(select="item")
          li
            div(class="item")
              div
                span(class="key")
                  xsl:value-of(select="contactName")
                p(class="value")
                  xsl:choose
                    xsl:when(test="value/@isLink = 'true'")
                      a(class="external-link")
                        xsl:attribute(name="href")
                          xsl:value-of(select="value")/
                        xsl:value-of(select="value")/
                    xsl:otherwise
                      xsl:value-of(select="value")/
              form(class="form inline-form" action="edit.cgi" method="post")
                fieldset.
                  <input type="hidden" name="collection" value="contacts"/>
                  <input type="hidden" name="id" >
                    <xsl:attribute name="value">
                      <xsl:value-of select="@id" />
                    </xsl:attribute>
                  </input>
                  <input type="hidden" name="contactName" >
                    <xsl:attribute name="value">
                      <xsl:value-of select="contactName" />
                    </xsl:attribute>
                  </input>
                  <input type="hidden" name="value" >
                    <xsl:attribute name="value">
                      <xsl:value-of select="value" />
                    </xsl:attribute>
                  </input>
                  <input type="hidden" name="isLink" >
                    <xsl:attribute name="value">
                      <xsl:value-of select="value/@isLink" />
                    </xsl:attribute>
                  </input>
                  <button type="submit"> Edit </button>
              form(class="form inline-form" action="delete.cgi" method="post")
                <xsl:attribute name="onclick">return renderModal("<xsl:value-of select="@id" />", "contacts");
                </xsl:attribute>
                fieldset.
                  <input type="hidden" name="collection" value="contacts"/>
                  <input type="hidden" name="id" >
                    <xsl:attribute name="value">
                      <xsl:value-of select="@id" />
                    </xsl:attribute>
                  </input>
                  <input type="hidden" name="contactName" >
                    <xsl:attribute name="value">
                      <xsl:value-of select="contactName" />
                    </xsl:attribute>
                  </input>
                  <input type="hidden" name="value" >
                    <xsl:attribute name="value">
                      <xsl:value-of select="value" />
                    </xsl:attribute>
                  </input>
                  <input type="hidden" name="isLink" >
                    <xsl:attribute name="value">
                      <xsl:value-of select="value/@isLink" />
                    </xsl:attribute>
                  </input>
                  <button type="submit"> Delete </button>
